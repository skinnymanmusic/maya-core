(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18858,(e,t,a)=>{},70408,59517,e=>{"use strict";let t;var a=e.i(92175),s=e.i(18858);function r({children:e}){return(0,a.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,a.jsx)(s.Sidebar,{}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto p-8",children:e})]})}e.s(["AppLayout",()=>r],70408);var i=e.i(83086),l=e.i(31150);let n=e=>{let t,a=new Set,s=(e,s)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=s?s:"object"!=typeof r||null===r)?r:Object.assign({},t,r),a.forEach(a=>a(t,e))}},r=()=>t,i={setState:s,getState:r,getInitialState:()=>l,subscribe:e=>(a.add(e),()=>a.delete(e))},l=t=e(s,r,i);return i},o=e=>{let t=e?n(e):n,a=e=>(function(e,t=e=>e){let a=l.default.useSyncExternalStore(e.subscribe,l.default.useCallback(()=>t(e.getState()),[e,t]),l.default.useCallback(()=>t(e.getInitialState()),[e,t]));return l.default.useDebugValue(a),a})(t,e);return Object.assign(a,t),a},c={backendUrl:i.default.env.NEXT_PUBLIC_OMEGA_BACKEND??"http://localhost:8000",endpoints:{health:"/api/health",agents:"/api/tenant-agents",clients:"/api/clients",messages:"/api/messages",events:"/api/calendar/events",automations:"/api/automations",authMe:"/api/auth/me",authRefresh:"/api/auth/refresh"}},d=(t=e=>({healthy:!0,safeMode:!1,lastError:null,setHealthy:t=>e({healthy:t}),setSafeMode:t=>e({safeMode:t}),setLastError:t=>e({lastError:t})}))?o(t):o;function u(e){if(!e)return"Unknown error";if("string"==typeof e)return e;if(e.detail)return e.detail;if(e.message)return e.message;try{return JSON.stringify(e)}catch{return"Unparsable error response"}}function m(e,t,a="default"){console.log(`${"destructive"===a?"❌":"warning"===a?"⚠️":"ℹ️"} ${e}: ${t}`)}async function p(e,t,a){let s,r=d.getState(),i=`${c.backendUrl}${t}`,l={"Content-Type":"application/json"};{let e=window.localStorage.getItem("omega_token");e&&(l.Authorization=`Bearer ${e}`)}let n={method:e,headers:l};a&&(n.body=JSON.stringify(a));try{s=await fetch(i,n)}catch(t){r.setHealthy(!1);let e=u(t);throw m("Network Error",e,"destructive"),Error(e)}503===s.status&&(r.setSafeMode(!0),m("System in Safe Mode","OMEGA temporarily restricted to protect data integrity.","warning"));let o=null;try{let e=await s.text();e&&(o=JSON.parse(e))}catch(e){o=null}if(!s.ok){let e=u(o);throw r.setLastError(e),m("API Error",e,"destructive"),Error(e)}return r.setHealthy(!0),o}e.s(["bookingEndpoints",0,{list:"/api/bookings",create:"/api/bookings",get:e=>`/api/bookings/${e}`,update:e=>`/api/bookings/${e}`,delete:e=>`/api/bookings/${e}`},"omegaClient",0,{get:e=>p("GET",e),post:(e,t)=>p("POST",e,t),patch:(e,t)=>p("PATCH",e,t),delete:e=>p("DELETE",e)},"stripeEndpoints",0,{paymentStatus:e=>`/api/stripe/payment-status/${e}`}],59517)},73352,e=>{"use strict";var t=e.i(92175),a=e.i(31150),s=e.i(70408);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},i=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim();var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:n="",children:o,iconNode:c,...d},u)=>(0,a.createElement)("svg",{ref:u,...l,width:t,height:t,stroke:e,strokeWidth:r?24*Number(s)/Number(t):s,className:i("lucide",n),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(o)?o:[o]])),o=(e,t)=>{let s=(0,a.forwardRef)(({className:s,...l},o)=>(0,a.createElement)(n,{ref:o,iconNode:t,className:i(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...l}));return s.displayName=r(e),s},c=o("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),d=o("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),u=o("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),m=o("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var p=e.i(59517);function h(){let[e,r]=(0,a.useState)([{name:"Maya Sinclair",status:"online",lastActive:"2 minutes ago"},{name:"Solin MCP",status:"online",lastActive:"Just now"},{name:"Sentra Safety",status:"online",lastActive:"1 minute ago"},{name:"Vita Repair",status:"online",lastActive:"30 seconds ago"}]),[i,l]=(0,a.useState)(!1),[n,o]=(0,a.useState)({pendingBookings:0,paymentsDue:0,emailsProcessed:0,calendarBlocks:0});return(0,a.useEffect)(()=>{async function e(){try{let e=await p.omegaClient.get("/api/health");e&&e.safe_mode&&l(!0);try{let e=await p.omegaClient.get("/api/bookings");Array.isArray(e)&&o(t=>({...t,pendingBookings:e.filter(e=>"pending"===e.payment_status).length,paymentsDue:e.filter(e=>"pending"===e.payment_status).length}))}catch(e){}}catch(e){console.error("Failed to load stats:",e)}}e();let t=setInterval(e,3e4);return()=>clearInterval(t)},[]),(0,t.jsx)(s.AppLayout,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"System overview and status"})]}),i&&(0,t.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(d,{className:"w-6 h-6 text-red-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-red-900",children:"Safe Mode Active"}),(0,t.jsx)("p",{className:"text-red-700 text-sm",children:"System operations are paused. Guardian Framework detected an issue."})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)(g,{title:"Pending Bookings",value:n.pendingBookings,icon:u,color:"blue"}),(0,t.jsx)(g,{title:"Payments Due",value:n.paymentsDue,icon:d,color:"yellow"}),(0,t.jsx)(g,{title:"Emails Processed",value:n.emailsProcessed,icon:m,color:"green"}),(0,t.jsx)(g,{title:"Calendar Blocks",value:n.calendarBlocks,icon:u,color:"purple"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,t.jsx)(c,{className:"w-5 h-5"}),"Agent Status"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`
                    w-3 h-3 rounded-full
                    ${"online"===e.status?"bg-green-500":"bg-gray-400"}
                  `}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.lastActive})]})]}),(0,t.jsx)("span",{className:`
                  px-3 py-1 rounded-full text-xs font-medium min-h-[32px] min-w-[80px] flex items-center justify-center
                  ${"online"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}
                `,children:e.status})]},e.name))})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Recent Activity"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(x,{action:"Email processed",details:"Maya responded to John Smith",time:"2 minutes ago"}),(0,t.jsx)(x,{action:"Payment received",details:"$500 deposit from Sarah Johnson",time:"15 minutes ago"}),(0,t.jsx)(x,{action:"Calendar blocked",details:"Wedding - December 15, 2025",time:"1 hour ago"})]})]})]})})}function g({title:e,value:a,icon:s,color:r}){return(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e}),(0,t.jsx)("p",{className:"text-3xl font-bold mt-2",children:a})]}),(0,t.jsx)("div",{className:`p-3 rounded-lg ${{blue:"bg-blue-50 text-blue-600",yellow:"bg-yellow-50 text-yellow-600",green:"bg-green-50 text-green-600",purple:"bg-purple-50 text-purple-600"}[r]}`,children:(0,t.jsx)(s,{className:"w-6 h-6"})})]})})}function x({action:e,details:a,time:s}){return(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 border-l-2 border-gray-200 hover:border-yellow-400 transition-colors",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium",children:e}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:a})]}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:s})]})}e.s(["default",()=>h],73352)}]);